(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{297:function(a,t,s){"use strict";s.r(t);var e=s(14),v=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"配置相关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置相关"}},[a._v("#")]),a._v(" 配置相关")]),a._v(" "),t("h2",{attrs:{id:"数组类型的环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数组类型的环境变量"}},[a._v("#")]),a._v(" 数组类型的环境变量")]),a._v(" "),t("p",[a._v("简单数组")]),a._v(" "),t("p",[t("code",[a._v(".env")]),a._v(" 文件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("MY_ARRAY=a,b,c\n")])])]),t("p",[a._v("多维数组")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('# 设置成 json 字符串\nSETTING={"KEY1":"VALUE1","KEY2":"VALUE2"}\n')])])]),t("p",[a._v("一般 Web 商业项目拥有的运行环境：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("我的开发环境")])]),a._v(" "),t("li",[t("p",[a._v("队友的开发环境")])]),a._v(" "),t("li",[t("p",[a._v("线上测试环境")])]),a._v(" "),t("li",[t("p",[a._v("生产环境")])])]),a._v(" "),t("p",[a._v("域名一般设置为：生产环境是 wyv5.com, 线上测试环境是 staging.wyv5.com, 而本地是 wyv5.test")]),a._v(" "),t("h2",{attrs:{id:"设置配置信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置配置信息"}},[a._v("#")]),a._v(" 设置配置信息")]),a._v(" "),t("ul",[t("li",[a._v("自定义配置文件")])]),a._v(" "),t("p",[a._v("在 config 目录下新建一个文件，返回一个数组，数组的键值对就是配置信息")]),a._v(" "),t("ul",[t("li",[a._v("动态设置配置信息\n"),t("ul",[t("li",[a._v("config 函数方式")]),a._v(" "),t("li",[a._v("config facade 方式")])])])]),a._v(" "),t("h2",{attrs:{id:"读取配置信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#读取配置信息"}},[a._v("#")]),a._v(" 读取配置信息")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("config 函数方式")])]),a._v(" "),t("li",[t("p",[a._v("config facade 方式")])])]),a._v(" "),t("h2",{attrs:{id:"设置读取环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置读取环境变量"}},[a._v("#")]),a._v(" 设置读取环境变量")]),a._v(" "),t("p",[a._v("分别在 .env .env.example 文件中设置环境变量，然后讲 key 放置于配置信息里。")]),a._v(" "),t("p",[a._v("请使用正确的方式来设置环境变量，并使用 "),t("code",[a._v("config()")]),a._v(" 来读取，确保只从配置文件内部调用 env 函数。")]),a._v(" "),t("h2",{attrs:{id:"判断当前环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#判断当前环境"}},[a._v("#")]),a._v(" 判断当前环境")]),a._v(" "),t("p",[a._v("一般情况下，我们有 local 开发环境、staging 测试环境、production 生产环境。")]),a._v(" "),t("ul",[t("li",[a._v("判断当前环境是否是本地")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("app()->isLocal()\n")])])]),t("ul",[t("li",[a._v("使用 environment 方法来判断当前环境")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("app()->environment('local')\n\n# 同时也支持多个环境匹配\n app()->environment(['local', 'staging'])\n")])])]),t("ul",[t("li",[a._v("使用 runningUnitTests 方法来判断当前是否是单元测试")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("app()->runningUnitTests()\n")])])]),t("ul",[t("li",[a._v("检测是否在命令行执行")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("app()->runningInConsole()\n")])])])])}),[],!1,null,null,null);t.default=v.exports}}]);