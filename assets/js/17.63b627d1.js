(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{289:function(v,a,t){"use strict";t.r(a);var _=t(14),r=Object(_.a)({},(function(){var v=this,a=v._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[a("h1",{attrs:{id:"开发规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发规范"}},[v._v("#")]),v._v(" 开发规范")]),v._v(" "),a("h2",{attrs:{id:"项目规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目规范"}},[v._v("#")]),v._v(" 项目规范")]),v._v(" "),a("h3",{attrs:{id:"开发和线上环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发和线上环境"}},[v._v("#")]),v._v(" 开发和线上环境")]),v._v(" "),a("p",[v._v("一般情况下，一个项目应该有三个基本的项目环境：")]),v._v(" "),a("ul",[a("li",[v._v("Local - 开发环境")])]),v._v(" "),a("p",[v._v("统一使用域名 "),a("code",[v._v(".test")]),v._v(" 作为后缀。")]),v._v(" "),a("ul",[a("li",[v._v("Staging - 线上测试环境")])]),v._v(" "),a("p",[v._v("统一使用域名 "),a("code",[v._v(".stage.xxx")]),v._v(" 作为后缀。")]),v._v(" "),a("p",[v._v("除了域名等其他独立应用配置以外，环境必须跟 Production 保持高度一致性，可以的话应该与 Production 使用同一台机器。")]),v._v(" "),a("ul",[a("li",[v._v("Production - 线上生产环境")])]),v._v(" "),a("p",[v._v("出于安全考虑，线上环境 必须 只开放以下端口：")]),v._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[v._v("- 80 HTTP\n\n- 443 HTTPS\n\n- 22 SSH\n")])])]),a("h3",{attrs:{id:"工具统一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工具统一"}},[v._v("#")]),v._v(" 工具统一")]),v._v(" "),a("p",[v._v("工具统一，为了方便工作流的统一，还有工具使用经验的传承。")]),v._v(" "),a("ul",[a("li",[v._v("硬件系统")]),v._v(" "),a("li",[v._v("编辑器")]),v._v(" "),a("li",[v._v("编辑器代码格式化 "),a("a",{attrs:{href:"https://editorconfig.org/",target:"_blank",rel:"noopener noreferrer"}},[v._v("EditorConfig"),a("OutboundLink")],1)]),v._v(" "),a("li",[v._v("PHP 代码风格矫正器 "),a("a",{attrs:{href:"https://github.com/PHP-CS-Fixer/PHP-CS-Fixer",target:"_blank",rel:"noopener noreferrer"}},[v._v("PHP-CS-Fixer"),a("OutboundLink")],1)]),v._v(" "),a("li",[v._v("命令行工具 例如：xshell 、git for windows")]),v._v(" "),a("li",[v._v("浏览器")]),v._v(" "),a("li",[v._v("虚拟机")]),v._v(" "),a("li",[v._v("Mysql 数据库查询工具")]),v._v(" "),a("li",[v._v("Redis 管理工具")]),v._v(" "),a("li",[v._v("MongoDB 管理工具")]),v._v(" "),a("li",[v._v("设计工具")]),v._v(" "),a("li",[v._v("视频播放")]),v._v(" "),a("li",[v._v("zsh 的配置信息统一，Alias 等信息")])]),v._v(" "),a("h3",{attrs:{id:"项目文档编写规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目文档编写规范"}},[v._v("#")]),v._v(" 项目文档编写规范")]),v._v(" "),a("p",[v._v("每一个项目必须包含一个 README.md 文件，主要简单介绍该项目，作用主要有两个：一是团队新成员可以从此文件快速获悉项目大致情况，另一个是部署项目时可以做为参考。")]),v._v(" "),a("p",[a("code",[v._v("readme.md")]),v._v(" 文件应该包含以下内容：")]),v._v(" "),a("ul",[a("li",[v._v("项目概述：介绍说明项目的一些情况，例如产品说明，功能描述，相关链接等等")]),v._v(" "),a("li",[v._v("运行环境：运行环境说明，系统要求等信息")]),v._v(" "),a("li",[v._v("开发环境部署：一步步引导说明，保证新成员能最快速的，没有歧义的部署好开发环境")]),v._v(" "),a("li",[v._v("服务器架构说明：最好能有服务器架构图，包含前端和后端运行环境等")]),v._v(" "),a("li",[v._v("代码上线：介绍代码上线流程，需要执行那些步骤")]),v._v(" "),a("li",[v._v("扩展包说明：表格列出所有使用的扩展包，以及标注那些业务使用了相关扩展包")]),v._v(" "),a("li",[v._v("自定义 Artisan 命令列表：以表格的形式罗列出所有自定义的命令，说明用途和使用场景")]),v._v(" "),a("li",[v._v("队列列表：以表格的形式罗列出所有的队列接口，说明用途，指出使用场景")]),v._v(" "),a("li",[v._v("常见问题：如果遇到了什么问题，如何解决的问题")])]),v._v(" "),a("h3",{attrs:{id:"composer-使用须知"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#composer-使用须知"}},[v._v("#")]),v._v(" Composer 使用须知")]),v._v(" "),a("p",[v._v("一些扩展包的注册会对应用造成消耗，有一些扩展包事开发环境中专用，生产环境中并不会使用到，为了避免无用的负载，必须严格控制其安装和加载。")]),v._v(" "),a("p",[v._v("安装开发专用扩展包时，必须使用 "),a("code",[v._v("--dev")]),v._v(" 参数")]),v._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[v._v("composer require ext-name --dev\n")])])]),a("p",[v._v("在 Production 和 Staging 环境，必须使用以下命令来安装")]),v._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[v._v("composer require --no-dev\n")])])]),a("h3",{attrs:{id:"静态资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#静态资源"}},[v._v("#")]),v._v(" 静态资源")]),v._v(" "),a("p",[v._v("一般我们将 css,js,font,image 等称为静态资源，这些静态资源使用 cdn 加载，用户上传的静态资源应该酌情处理。")]),v._v(" "),a("p",[v._v("如果项目中使用了第三方前端类库中的 css/js/fonts/image 等静态资源，绝不使用第三方链接进行加载，必须下载下来并纳入代码版本管理器中。")]),v._v(" "),a("p",[v._v("css,js 文件应该使用独立的文件进行加载，不应该直接写在页面中，并且控制数量为 2~3 个文件。")]),v._v(" "),a("h2",{attrs:{id:"开发规范-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发规范-2"}},[v._v("#")]),v._v(" 开发规范")]),v._v(" "),a("h3",{attrs:{id:"控制器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#控制器"}},[v._v("#")]),v._v(" 控制器")]),v._v(" "),a("ul",[a("li",[a("p",[v._v("控制器必须优先使用 Restful 资源控制器")])]),v._v(" "),a("li",[a("p",[v._v("必须使用复数形式")])]),v._v(" "),a("li",[a("p",[v._v("控制器里应该只存放路由动作方法")])]),v._v(" "),a("li",[a("p",[v._v("保持短小精悍，必须保持控制其文件代码行数最小化，还有可读性，一般来讲，一个方法不应该超过20行代码，业务逻辑比较多，请封装到一个 Service 类里。")])]),v._v(" "),a("li",[a("p",[v._v("绝不在控制器里遗留死方法（没有用的方法）")])]),v._v(" "),a("li",[a("p",[v._v("不应该在控制器中书写私有方法，多余的业务逻辑，请封装到 Service 类中")])]),v._v(" "),a("li",[a("p",[v._v("方法注释，每个方法都需要有详细的注释说明（要求方法取名合理，不需要过多解释），包括参数和返回值。但要为一些复杂的逻辑代码块书写注释，结合上下文，解释为什么这么做。")]),v._v(" "),a("p",[v._v("请注意，@param 属性后跟两个空格、参数类型、两个空格，最后是变量名称：")]),v._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[v._v("/**\n* 注册一个绑定到容器。\n*\n* @param  string|array  $abstract\n* @param  \\Closure|string|null  $concrete\n* @param  bool  $shared\n* @return void\n*/\npublic function bind($abstract, $concrete = null, $shared = false)\n{\n    //\n}\n")])])])]),v._v(" "),a("li",[a("p",[v._v("绝不在控制器里批量注释掉代码，没有用直接删掉，反正有 Git 来做版本控制")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);