<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>抓取视频整体述求与尝试 | Maturest</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/docs/logo.png">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/docs/assets/css/0.styles.cffabbe3.css" as="style"><link rel="preload" href="/docs/assets/js/app.ceb3f0ae.js" as="script"><link rel="preload" href="/docs/assets/js/2.6b092d03.js" as="script"><link rel="preload" href="/docs/assets/js/57.e09e3e03.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.a067b955.js"><link rel="prefetch" href="/docs/assets/js/11.d60eeb96.js"><link rel="prefetch" href="/docs/assets/js/12.35e894cc.js"><link rel="prefetch" href="/docs/assets/js/13.afa3d022.js"><link rel="prefetch" href="/docs/assets/js/14.94fe64f0.js"><link rel="prefetch" href="/docs/assets/js/15.9d855e74.js"><link rel="prefetch" href="/docs/assets/js/16.ac4dc726.js"><link rel="prefetch" href="/docs/assets/js/17.a578fc8a.js"><link rel="prefetch" href="/docs/assets/js/18.f94f6d75.js"><link rel="prefetch" href="/docs/assets/js/19.353b09ee.js"><link rel="prefetch" href="/docs/assets/js/20.9545ad28.js"><link rel="prefetch" href="/docs/assets/js/21.b1c170d3.js"><link rel="prefetch" href="/docs/assets/js/22.272981f7.js"><link rel="prefetch" href="/docs/assets/js/23.d46e4b9a.js"><link rel="prefetch" href="/docs/assets/js/24.b28d2a5d.js"><link rel="prefetch" href="/docs/assets/js/25.3afd6380.js"><link rel="prefetch" href="/docs/assets/js/26.3e647192.js"><link rel="prefetch" href="/docs/assets/js/27.d5a53b5a.js"><link rel="prefetch" href="/docs/assets/js/28.2dcc64ba.js"><link rel="prefetch" href="/docs/assets/js/29.eb180a5c.js"><link rel="prefetch" href="/docs/assets/js/3.57ce4c40.js"><link rel="prefetch" href="/docs/assets/js/30.cdc48f88.js"><link rel="prefetch" href="/docs/assets/js/31.c8329549.js"><link rel="prefetch" href="/docs/assets/js/32.c405e532.js"><link rel="prefetch" href="/docs/assets/js/33.134606e5.js"><link rel="prefetch" href="/docs/assets/js/34.e4d4cb3d.js"><link rel="prefetch" href="/docs/assets/js/35.3071067f.js"><link rel="prefetch" href="/docs/assets/js/36.0b5d4780.js"><link rel="prefetch" href="/docs/assets/js/37.921052f2.js"><link rel="prefetch" href="/docs/assets/js/38.3694763d.js"><link rel="prefetch" href="/docs/assets/js/39.9b3682f7.js"><link rel="prefetch" href="/docs/assets/js/4.48af2b25.js"><link rel="prefetch" href="/docs/assets/js/40.359fd706.js"><link rel="prefetch" href="/docs/assets/js/41.a6c19a1f.js"><link rel="prefetch" href="/docs/assets/js/42.321ecba1.js"><link rel="prefetch" href="/docs/assets/js/43.d67b4e14.js"><link rel="prefetch" href="/docs/assets/js/44.685e2898.js"><link rel="prefetch" href="/docs/assets/js/45.ebea0707.js"><link rel="prefetch" href="/docs/assets/js/46.90f0f048.js"><link rel="prefetch" href="/docs/assets/js/47.797a7137.js"><link rel="prefetch" href="/docs/assets/js/48.66c8878d.js"><link rel="prefetch" href="/docs/assets/js/49.5d86543d.js"><link rel="prefetch" href="/docs/assets/js/5.925cb319.js"><link rel="prefetch" href="/docs/assets/js/50.3a318eff.js"><link rel="prefetch" href="/docs/assets/js/51.3851a98b.js"><link rel="prefetch" href="/docs/assets/js/52.118f6d41.js"><link rel="prefetch" href="/docs/assets/js/53.8ba2c7eb.js"><link rel="prefetch" href="/docs/assets/js/54.ee09115f.js"><link rel="prefetch" href="/docs/assets/js/55.1631e7b7.js"><link rel="prefetch" href="/docs/assets/js/56.0efd2412.js"><link rel="prefetch" href="/docs/assets/js/58.cefd64cd.js"><link rel="prefetch" href="/docs/assets/js/59.2d649921.js"><link rel="prefetch" href="/docs/assets/js/6.4e53a11e.js"><link rel="prefetch" href="/docs/assets/js/60.4394c1d3.js"><link rel="prefetch" href="/docs/assets/js/61.70c5feeb.js"><link rel="prefetch" href="/docs/assets/js/62.2c28f36e.js"><link rel="prefetch" href="/docs/assets/js/63.85ddcd0f.js"><link rel="prefetch" href="/docs/assets/js/64.09d9fb55.js"><link rel="prefetch" href="/docs/assets/js/65.10e34153.js"><link rel="prefetch" href="/docs/assets/js/66.5c1bad05.js"><link rel="prefetch" href="/docs/assets/js/67.c7e37830.js"><link rel="prefetch" href="/docs/assets/js/68.3469bbfd.js"><link rel="prefetch" href="/docs/assets/js/69.af71aac0.js"><link rel="prefetch" href="/docs/assets/js/7.87386ed6.js"><link rel="prefetch" href="/docs/assets/js/70.3ff1b1a4.js"><link rel="prefetch" href="/docs/assets/js/71.2cfe63fc.js"><link rel="prefetch" href="/docs/assets/js/72.c72c61fd.js"><link rel="prefetch" href="/docs/assets/js/8.75c571bb.js"><link rel="prefetch" href="/docs/assets/js/9.cfa3cc95.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.cffabbe3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Maturest</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/author/" class="nav-link">
  关于作者
</a></div><div class="nav-item"><a href="/docs/back/ai/" class="nav-link">
  AIGC
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front end" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Front end" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/front/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/es/" class="nav-link">
  Es
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/uni-app/" class="nav-link">
  Uni-App
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Back end" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Back end" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/back/php/" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/laravel/" class="nav-link">
  Laravel
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/python/" class="nav-link router-link-active">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/django/" class="nav-link">
  Django
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/mysql/" class="nav-link">
  Mysql
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Cache" class="dropdown-title"><span class="title">缓存</span> <span class="arrow down"></span></button> <button type="button" aria-label="Cache" class="mobile-dropdown-title"><span class="title">缓存</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/back/memcached/" class="nav-link">
  Memcached
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/mongodb/" class="nav-link">
  Mongodb
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/elasticsearch/" class="nav-link">
  Elasticsearch
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Operation" class="dropdown-title"><span class="title">运维</span> <span class="arrow down"></span></button> <button type="button" aria-label="Operation" class="mobile-dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/operation/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/composer/" class="nav-link">
  Composer
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Programs" class="dropdown-title"><span class="title">项目经验</span> <span class="arrow down"></span></button> <button type="button" aria-label="Programs" class="mobile-dropdown-title"><span class="title">项目经验</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/programs/h5/" class="nav-link">
  H5项目
</a></li><li class="dropdown-item"><!----> <a href="/docs/programs/mini-program/" class="nav-link">
  小程序项目
</a></li><li class="dropdown-item"><!----> <a href="/docs/programs/web/" class="nav-link">
  PC端项目
</a></li></ul></div></div> <a href="https://github.com/maturest/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/author/" class="nav-link">
  关于作者
</a></div><div class="nav-item"><a href="/docs/back/ai/" class="nav-link">
  AIGC
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front end" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Front end" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/front/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/es/" class="nav-link">
  Es
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/uni-app/" class="nav-link">
  Uni-App
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Back end" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Back end" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/back/php/" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/laravel/" class="nav-link">
  Laravel
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/python/" class="nav-link router-link-active">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/django/" class="nav-link">
  Django
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/mysql/" class="nav-link">
  Mysql
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Cache" class="dropdown-title"><span class="title">缓存</span> <span class="arrow down"></span></button> <button type="button" aria-label="Cache" class="mobile-dropdown-title"><span class="title">缓存</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/back/memcached/" class="nav-link">
  Memcached
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/mongodb/" class="nav-link">
  Mongodb
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/elasticsearch/" class="nav-link">
  Elasticsearch
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Operation" class="dropdown-title"><span class="title">运维</span> <span class="arrow down"></span></button> <button type="button" aria-label="Operation" class="mobile-dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/operation/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/composer/" class="nav-link">
  Composer
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Programs" class="dropdown-title"><span class="title">项目经验</span> <span class="arrow down"></span></button> <button type="button" aria-label="Programs" class="mobile-dropdown-title"><span class="title">项目经验</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/programs/h5/" class="nav-link">
  H5项目
</a></li><li class="dropdown-item"><!----> <a href="/docs/programs/mini-program/" class="nav-link">
  小程序项目
</a></li><li class="dropdown-item"><!----> <a href="/docs/programs/web/" class="nav-link">
  PC端项目
</a></li></ul></div></div> <a href="https://github.com/maturest/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/docs/back/python/" aria-current="page" class="sidebar-link">Python 环境准备</a></li><li><a href="/docs/back/python/editor.html" class="sidebar-link">编辑器配置</a></li><li><a href="/docs/back/python/scriptstructure.html" class="sidebar-link">脚本结构</a></li><li><a href="/docs/back/python/branch.html" class="sidebar-link">分支结构</a></li><li><a href="/docs/back/python/loop.html" class="sidebar-link">循环结构</a></li><li><a href="/docs/back/python/program_logic.html" class="sidebar-link">程序逻辑</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="抓取视频整体述求与尝试"><a href="#抓取视频整体述求与尝试" class="header-anchor">#</a> 抓取视频整体述求与尝试</h2> <h3 id="_1、抓取视频整体述求"><a href="#_1、抓取视频整体述求" class="header-anchor">#</a> 1、抓取视频整体述求</h3> <p>1、根据关键词搜索视频，并按点赞量降序爬取抖音视频</p> <p>2、爬取某个账号的视频，并按点赞量降序爬取视频</p> <p>3、把爬取的视频链接，是否可以批量下载存储（一个一个的下载影响效率）</p> <p>4、是否可以提取视频内容的文字稿</p> <p>5、抓取某一视频的评论，分析意向用户</p> <p>6、不限于以上的散发性需求</p> <h3 id="_2、尝试编写抓取视频脚步进行抓取"><a href="#_2、尝试编写抓取视频脚步进行抓取" class="header-anchor">#</a> 2、尝试编写抓取视频脚步进行抓取</h3> <div class="language-puthon extra-class"><pre class="language-text"><code># 引用组件库
import requests
from bs4 import BeautifulSoup

# 编写脚本
def get_hot_videos(keyword):
    url = f'https://www.douyin.com/search/{keyword}'
    headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}
    response = requests.get(url, headers=headers)
    soup = BeautifulSoup(response.text, 'html.parser')
    video_list = soup.find_all('div', class_='video-item')

    videos = []
    for video in video_list:
        video_url = video.find('a')['href']
        video_title = video.find('p', class_='video-desc').text
        video_likes = int(video.find('span', class_='like-count').text)
        videos.append((video_title, video_url, video_likes))

    # 按点赞数量降序排序
    videos.sort(key=lambda x: x[2], reverse=True)

    for video in videos:
        print(f'标题：{video[0]}\n链接：{video[1]}\n点赞数：{video[2]}\n')

# 交互式抓取
if __name__ == '__main__':
    keyword = input('请输入关键词：')
    get_hot_videos(keyword)
</code></pre></div><blockquote><p>[success] 通过对爬虫知识的了解和学习，并尝试自己写一个关于抖音视频的爬虫程序，但发现并不是像爬取豆瓣电影，抓取图片网站上的图片那么简单，为什么呢？因为抖音做了反爬虫机制，<code>html</code> 页面里面没有具体的 <code>vodeo</code> 标签，也没有 <code>src</code> 属性存放视频地址的属性值。因此需要点时间去学习和研究。但抓取抖音视频的需求迫在眉睫，因此就站在巨人的肩膀上，在 <code>github</code> 上搜索有这样的开源的程序没有，嘿，你别说，还真被我找到几款。</p></blockquote> <h3 id="_3、了解一下抖音官方设置的反爬限制"><a href="#_3、了解一下抖音官方设置的反爬限制" class="header-anchor">#</a> 3、了解一下抖音官方设置的反爬限制</h3> <p><a href="https://douyin.com/robots.txt" target="_blank" rel="noopener noreferrer">https://douyin.com/robots.txt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://pic.imgdb.cn/item/659cb7c6871b83018ab935ff.jpg" alt=""></p> <p>我们拆分理解一下上面的内容：</p> <ul><li><p>robots.txt 文件禁止哪些代理爬虫访问网站。</p></li> <li><p>Disallow 表示不允许访问的路径，allow表示允许访问的路径。</p></li> <li><p>定义了 <code>Sitemap</code> 文件，即所谓的网站地图。网站提供的 <code>Sitemap</code> 文件（即网站地图）提供了该网站站点里面所有页面的链接，这些链接组成了这个 <code>Sitemap</code> 文件。</p></li></ul> <h3 id="_4、尝试别的方式进行视频爬取"><a href="#_4、尝试别的方式进行视频爬取" class="header-anchor">#</a> 4、尝试别的方式进行视频爬取</h3> <p>经过对比几款开源的项目，<code>star</code> 较多的项目比较老旧，有的是20年的，好几年没更新了，有的项目已经停止维护，有的项目功能单一，并不能解决我们目前面临的难题。</p> <p><strong><text style="color:blue;">终于，皇天不负有心人，找到了一款勉强符合我们的项目</text></strong>，于是进行研究了一番，并做记录，以备视频剪辑同事采坑，更便利的使用该软件。虽然目前交互上有点蹩脚，但能实现我们需要的功能，后期我想想办法，让交互更方便。</p> <hr> <h2 id="抖音视频抓取步骤"><a href="#抖音视频抓取步骤" class="header-anchor">#</a> 抖音视频抓取步骤</h2> <blockquote><p>项目地址: https://github.com/JoeanAmier/TikTokDownloader
项目文档: https://github.com/JoeanAmier/TikTokDownloader/wiki/Documentation</p></blockquote> <h3 id="_1、环境部署"><a href="#_1、环境部署" class="header-anchor">#</a> 1、环境部署</h3> <p>该项目的环境部署有两种方式，一种方式是进行源代码部署，第二种方式是打包编译成windows系统的可执行的软件包。</p> <p>源代码部署环境需要安装额外的软件，指定的 <code>python</code> 版本，以及构建虚拟环境，激活环境，安装依赖包等等。此过程对于非专业人员比较繁琐。考虑到该项目的最终使用者是视频剪辑部同事，因此比较推荐第二种方式。</p> <blockquote><p>安装包点击此处分享链接（百度网盘）
链接：https://pan.baidu.com/s/1Z8W0O11gQNt0hpCycSBe1w?pwd=qwyl
提取码：qwyl</p></blockquote> <p><strong>注意：下载之后解压，并将解压之后的文件夹放在任意目录即可（目录名不能包含中文）。</strong></p> <p>在项目根目录双击执行 <code>main.exe</code>文件出现如下截图，就表示安装完成。</p> <p><img src="https://pic.imgdb.cn/item/659cf14a871b83018a77affc.jpg" alt=""></p> <h3 id="_2、写入-cookie-爬虫需要模拟真实用户-降低爬虫被禁止的风险"><a href="#_2、写入-cookie-爬虫需要模拟真实用户-降低爬虫被禁止的风险" class="header-anchor">#</a> 2、写入 cookie (爬虫需要模拟真实用户，降低爬虫被禁止的风险)</h3> <ul><li>1、打开浏览器，访问 https://www.douyin.com/</li> <li>2、登录抖音账号</li> <li>3、按 F12 打开开发人员工具</li> <li>4、选择 网络 选项卡</li> <li>5、勾选 保留日志</li> <li>6、在 筛选器 输入框输入 ?device</li> <li>7、点击 抖音网页版 左侧选项卡中 直播、首页、推荐、关注 等任意一个模块</li> <li>8、在开发人员工具窗口选择任意一个数据包</li> <li>9、依次查找 标头 -&gt; 请求标头 -&gt; Cookie</li> <li>10、检查 Cookie 是否包含 passport_csrf_token 和 odin_tt 字段</li> <li>11、如果未包含所需字段，尝试刷新网页或者再次点击其他选项卡</li> <li>12、全选并复制 Cookie 的值</li> <li>13、运行 main.py ，写入 Cookie</li></ul> <p><img src="https://pic.imgdb.cn/item/659cf697871b83018a881af9.jpg" alt=""></p> <p>点击运行 <code>main.exe</code> 文件（如果是打开状态，则忽略）</p> <p>输入数字 1</p> <p>将上图的 3号位 的 cookie 复制，并粘贴，出现 <code>保存并配置成功</code> 字样，则表示配置成功。</p> <p><img src="https://pic.imgdb.cn/item/659cf9c7871b83018a917153.jpg" alt=""></p> <h3 id="_3、web-ui-交互模式-体验单个视频-和音频-下载"><a href="#_3、web-ui-交互模式-体验单个视频-和音频-下载" class="header-anchor">#</a> 3、Web UI 交互模式，体验单个视频（和音频）下载</h3> <h4 id="_3-1-输入数字-5-程序会在系统的默认浏览器上开启一个窗口。"><a href="#_3-1-输入数字-5-程序会在系统的默认浏览器上开启一个窗口。" class="header-anchor">#</a> 3.1 输入数字 5 ,程序会在系统的默认浏览器上开启一个窗口。</h4> <p><img src="https://pic.imgdb.cn/item/659cfbd2871b83018a974879.jpg" alt=""></p> <h4 id="_3-2-我们滚动窗口至-参数配置-模块-并设置-数据保存格式-选项为-xlsx。-此步骤不能省略-根据关键词爬取视频的时候会用到该配置-下面关于下载的几个选项-我们也都打上勾。"><a href="#_3-2-我们滚动窗口至-参数配置-模块-并设置-数据保存格式-选项为-xlsx。-此步骤不能省略-根据关键词爬取视频的时候会用到该配置-下面关于下载的几个选项-我们也都打上勾。" class="header-anchor">#</a> 3.2 我们滚动窗口至 <code>参数配置</code> 模块，并设置 <code>数据保存格式</code> 选项为 <code>xlsx</code>。（此步骤不能省略，根据关键词爬取视频的时候会用到该配置），下面关于下载的几个选项，我们也都打上勾。</h4> <p><img src="https://pic.imgdb.cn/item/659cfc8a871b83018a9932f8.jpg" alt=""></p> <h4 id="_3-3-我们从抖音上随便找一个视频尝试进行下载-你会惊讶的发现-视频-音频都可以下载-有了音频文件-那么视频文稿可以轻松获得了-有了文稿-那么后面的情感分析-相似性分析-文案再生成等等-不再是天方夜谭。"><a href="#_3-3-我们从抖音上随便找一个视频尝试进行下载-你会惊讶的发现-视频-音频都可以下载-有了音频文件-那么视频文稿可以轻松获得了-有了文稿-那么后面的情感分析-相似性分析-文案再生成等等-不再是天方夜谭。" class="header-anchor">#</a> 3.3 我们从抖音上随便找一个视频尝试进行下载，你会惊讶的发现：视频，音频都可以下载，有了音频文件，那么视频文稿可以轻松获得了，有了文稿，那么后面的情感分析，相似性分析，文案再生成等等，不再是天方夜谭。</h4> <p><img src="https://pic.imgdb.cn/item/659d0155871b83018aa77625.jpg" alt=""></p> <p>相信你通过上面的体验，虽然有啊哈时刻，但不够惊叹，为什么呢，因为有局限性，首先这只是单个视频下载，并不是批量下载。其次这也没实现根据关键词搜索，然后进行抓取啊，最后也没办法进入某个视频号主页进行抓取。我只能说稍安勿躁，且看我后续分析研究。</p> <h3 id="_4、终端命令行模式-根据关键词抓取视频"><a href="#_4、终端命令行模式-根据关键词抓取视频" class="header-anchor">#</a> 4、终端命令行模式-根据关键词抓取视频</h3> <h4 id="_4-1-进入终端命令行模式"><a href="#_4-1-进入终端命令行模式" class="header-anchor">#</a> 4.1 进入终端命令行模式</h4> <p>执行 <code>main.exe</code> 文件，并输入数字 3</p> <p>啊哈，你会打开抓取视频新世界的大门，因为它有如下功能：</p> <ol><li><p>批量下载账号作品(TikTok) <text style="color:red;">====&gt; 这里可能是我们需要的</text></p></li> <li><p>批量下载账号作品(抖音) <text style="color:red;">====&gt; 这里正是我们需要的</text></p></li> <li><p>批量下载链接作品(通用) <text style="color:red;">====&gt; 这里正是我们需要的</text></p></li> <li><p>获取直播推流地址(抖音)</p></li> <li><p>采集作品评论数据(抖音) <text style="color:red;">====&gt; 这里正是我们需要的</text></p></li> <li><p>批量下载合集作品(抖音) <text style="color:red;">====&gt; 这里可能是我们需要的</text></p></li> <li><p>批量采集账号数据(抖音) <text style="color:red;">====&gt; 这里正是我们需要的</text></p></li> <li><p>采集搜索结果数据(抖音)  <text style="color:red;">====&gt; 这里正是我们需要的</text></p></li> <li><p>采集抖音热榜数据(抖音) <text style="color:red;">====&gt; 这里可能是我们需要的</text></p></li> <li><p>批量下载收藏作品(抖音)</p></li></ol> <h4 id="_4-2-根据关键词-指定搜索条件进行视频采集"><a href="#_4-2-根据关键词-指定搜索条件进行视频采集" class="header-anchor">#</a> 4.2 根据关键词，指定搜索条件进行视频采集</h4> <p>接下来，我们输入数字 8 （此处与 3.2 处相呼应，保存搜索内容），接着我们输入如下格式的内容：</p> <blockquote><p>[success] 搜索条件输入格式
格式：关键词 搜索类型 页数 排序规则 时间筛选</p> <p>搜索类型：综合搜索 视频搜索 用户搜索 直播搜索（可省略 “ 搜索 ” 字符）
排序依据：综合排序 最多点赞 最新发布
时间筛选：0：不限；1：一天内；7：一周内；182：半年内</p></blockquote> <p>比如我想要搜索关键词：易经，搜索类型为视频搜索，50个，按最多点赞降序，时间不限的视频。那么搜索格式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>易经 1 50 1 0
</code></pre></div><p>操作过程如下图：</p> <p><img src="https://pic.imgdb.cn/item/659d07dc871b83018ab97fab.jpg" alt=""></p> <p>注意：采集的结果形式是 excel 数据表，存储的位置在项目根目录：<code>_internal\Data</code> 目录下，请自行查找。</p> <h4 id="_4-3-体验批量下载视频"><a href="#_4-3-体验批量下载视频" class="header-anchor">#</a> 4.3 体验批量下载视频</h4> <p>我们首先看一下刚才抓取的内容都包含哪些：</p> <ul><li>作品类型</li> <li>采集时间</li> <li>UID</li> <li>SEC_UID</li> <li>抖音号</li> <li>SHORT_ID</li> <li>作品ID</li> <li>作品描述</li> <li>作品话题</li> <li>视频时长</li> <li>视频分辨率</li> <li>视频高度</li> <li>视频宽度</li> <li>作品链接</li> <li>发布时间</li> <li>视频URI</li> <li>账号昵称</li> <li>年龄</li> <li>账号签名</li> <li>作品地址</li> <li>音乐作者</li> <li>音乐标题</li> <li>音乐链接</li> <li>静态封面</li> <li>动态封面</li> <li>标签_1</li> <li>标签_2</li> <li>标签_3</li> <li>点赞数量</li> <li>评论数量</li> <li>收藏数量</li> <li>分享数量</li> <li>额外信息</li></ul> <p>总的概括一下：包含了视频作者信息，视频信息，封面信息，视频点赞量，评论数量，收藏数量，分享数量等等。</p> <p>我们再分析一下视频链接的组成部分（采集的数据视频链接为空，需要我们自己拼接，todo:做个程序自动生成）：</p> <blockquote><p>[danger] 视频链接由 视频前缀（https://www.douyin.com/video/）+ 作品ID 组成
批量下载的视频需要多个链接按空格分开即可。
https://www.douyin.com/video/6897513990281284875 https://www.douyin.com/video/6898273390898056462 https://www.douyin.com/video/7018112758927346974</p></blockquote> <p>运行结果如下图：</p> <p><img src="https://pic.imgdb.cn/item/659d0ef4871b83018acce920.jpg" alt=""></p> <p>注意视频与音频文件保存在项目 <code>_internal\Download</code> 文件夹下，可以自行查看。</p> <h3 id="_5、终端命令行模式-抓取某个账号下数据"><a href="#_5、终端命令行模式-抓取某个账号下数据" class="header-anchor">#</a> 5、终端命令行模式-抓取某个账号下数据</h3> <p>运行过程如下图所示：</p> <p><img src="https://pic.imgdb.cn/item/659d1678871b83018ae26e88.jpg" alt=""></p> <p><strong>批量采集账号数据有以下两种方式：</strong></p> <p>1、使用 settings.json 的 accounts_urls 参数中的账号链接。</p> <p>此处的链接拼接，可用由 PHP 程序实现</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;accounts_urls&quot;: [
        {
            &quot;mark&quot;: &quot;&quot;,
            &quot;url&quot;: &quot;https://www.douyin.com/user/MS4wLjABAAAAH274zlB0PFtBhn_LloO5AN-RYuxPM9j7z_SfZ_LycnR5RSy6t9Nc6d0A7rvZR9jc?vid=6897513990281284875&quot;,
            &quot;tab&quot;: &quot;&quot;,
            &quot;earliest&quot;: &quot;&quot;,
            &quot;latest&quot;: &quot;&quot;
        },
		{
            &quot;mark&quot;: &quot;&quot;,
            &quot;url&quot;: &quot;https://www.douyin.com/user/MS4wLjABAAAAtLdN5mxIT_m2d0rL--GnpTKUC8bDUrYy5roAHLKvJf8&quot;,
            &quot;tab&quot;: &quot;&quot;,
            &quot;earliest&quot;: &quot;&quot;,
            &quot;latest&quot;: &quot;&quot;
        }
    ],
</code></pre></div><p>2、手动输入待采集的账号链接。</p> <blockquote><p>[danger] 支持链接格式如下：</p> <p>https://v.douyin.com/分享码/
https://www.douyin.com/user/账号ID （账号ID是采集数据中的 SEC_UID 字段）
https://www.douyin.com/user/账号ID?modal_id=作品ID</p> <p>分享码比如如下格式：https://v.douyin.com/iLLayqgS/<br>
账号链接如下：https://www.douyin.com/user/MS4wLjABAAAAH274zlB0PFtBhn_LloO5AN-RYuxPM9j7z_SfZ_LycnR5RSy6t9Nc6d0A7rvZR9jc</p></blockquote> <p><strong>备注：采集数据的时候，确保文件处于关闭状态，否则读写会出现冲突，导致写失败。</strong></p> <p>注意视频账号保存在项目 <code>_internal\Data\UserData</code> 文件下，可以自行查看。</p> <h3 id="_6、终端命令行模式-批量下载某个账号的视频"><a href="#_6、终端命令行模式-批量下载某个账号的视频" class="header-anchor">#</a> 6、终端命令行模式-批量下载某个账号的视频</h3> <p>批量下载某个账号的视频操作步骤如下：</p> <p><img src="https://pic.imgdb.cn/item/659d19a5871b83018aebf406.jpg" alt=""></p> <p>中途会出现提示说：响应内容不是有效的JSON格式：ratelimit triggered。</p> <p>不用慌， 请求频率过快导致，程序会自动重试，无需用户处理。后续它会自动下载视频。</p> <p><img src="https://pic.imgdb.cn/item/659d19d4871b83018aec8418.jpg" alt=""></p> <p>注意：自动下载的视频文件夹就在项目目录下：<code>_internal\UID3737966843010024_总监奶奶爱生活_发布作品</code></p> <h3 id="_7、终端命令行模式-采集某个视频的评论"><a href="#_7、终端命令行模式-采集某个视频的评论" class="header-anchor">#</a> 7、终端命令行模式-采集某个视频的评论</h3> <p>比如我们采集 这个是视频 <code>https://www.douyin.com/video/6897513990281284875</code> 的评论信息:</p> <p><img src="https://pic.imgdb.cn/item/659d1d73871b83018af6de51.jpg" alt=""></p> <p>注意：采集的结果形式是 excel 数据表，存储的位置在项目根目录：<code>_internal\Data</code> 目录下，请自行查找。</p> <hr> <h2 id="总结-我们目前是可以实现的功能点有如下"><a href="#总结-我们目前是可以实现的功能点有如下" class="header-anchor">#</a> 总结：我们目前是可以实现的功能点有如下：</h2> <p>1、根据关键词，指定搜索条件进行视频，音频，封面的采集</p> <p>2、批量下根据关键词抓取的视频</p> <p>3、获取某一抖音账号的信息</p> <p>4、批量下载某一抖音账号下的所有视频，音频</p> <p>5、抓取某一抖音视频的评论数据（评论内容和点赞量）</p> <p><strong>附：尝试抓取的内容，见附件，下载的视频由于受大小的限制就不上传了。</strong></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/maturest/docs/edit/master/back/python/video.md" target="_blank" rel="noopener noreferrer">帮助我改善此页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">3/21/2024, 6:29:11 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.ceb3f0ae.js" defer></script><script src="/docs/assets/js/2.6b092d03.js" defer></script><script src="/docs/assets/js/57.e09e3e03.js" defer></script>
  </body>
</html>
