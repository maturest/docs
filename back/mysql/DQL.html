<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DQL | Maturest</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/docs/logo.png">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/docs/assets/css/0.styles.cffabbe3.css" as="style"><link rel="preload" href="/docs/assets/js/app.000178f7.js" as="script"><link rel="preload" href="/docs/assets/js/2.6b092d03.js" as="script"><link rel="preload" href="/docs/assets/js/40.15f1699d.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.e40aa075.js"><link rel="prefetch" href="/docs/assets/js/11.5bd500de.js"><link rel="prefetch" href="/docs/assets/js/12.c4214910.js"><link rel="prefetch" href="/docs/assets/js/13.26bda921.js"><link rel="prefetch" href="/docs/assets/js/14.94fe64f0.js"><link rel="prefetch" href="/docs/assets/js/15.9cf93e32.js"><link rel="prefetch" href="/docs/assets/js/16.70de09e0.js"><link rel="prefetch" href="/docs/assets/js/17.e0c91821.js"><link rel="prefetch" href="/docs/assets/js/18.f94f6d75.js"><link rel="prefetch" href="/docs/assets/js/19.4755d8b5.js"><link rel="prefetch" href="/docs/assets/js/20.49599cda.js"><link rel="prefetch" href="/docs/assets/js/21.4cf06687.js"><link rel="prefetch" href="/docs/assets/js/22.0ab2c321.js"><link rel="prefetch" href="/docs/assets/js/23.b8db3a01.js"><link rel="prefetch" href="/docs/assets/js/24.adef48df.js"><link rel="prefetch" href="/docs/assets/js/25.3afd6380.js"><link rel="prefetch" href="/docs/assets/js/26.821aeade.js"><link rel="prefetch" href="/docs/assets/js/27.4a61f301.js"><link rel="prefetch" href="/docs/assets/js/28.3b732e06.js"><link rel="prefetch" href="/docs/assets/js/29.e91447fc.js"><link rel="prefetch" href="/docs/assets/js/3.be73c6c8.js"><link rel="prefetch" href="/docs/assets/js/30.c81856d3.js"><link rel="prefetch" href="/docs/assets/js/31.be21cb17.js"><link rel="prefetch" href="/docs/assets/js/32.69a77751.js"><link rel="prefetch" href="/docs/assets/js/33.d0d0a311.js"><link rel="prefetch" href="/docs/assets/js/34.f1d25a96.js"><link rel="prefetch" href="/docs/assets/js/35.af6ccb55.js"><link rel="prefetch" href="/docs/assets/js/36.217cd94b.js"><link rel="prefetch" href="/docs/assets/js/37.917d76d1.js"><link rel="prefetch" href="/docs/assets/js/38.549bf254.js"><link rel="prefetch" href="/docs/assets/js/39.859f53b2.js"><link rel="prefetch" href="/docs/assets/js/4.48af2b25.js"><link rel="prefetch" href="/docs/assets/js/41.720508d7.js"><link rel="prefetch" href="/docs/assets/js/42.b685592a.js"><link rel="prefetch" href="/docs/assets/js/43.5cdbdc24.js"><link rel="prefetch" href="/docs/assets/js/44.ca8455aa.js"><link rel="prefetch" href="/docs/assets/js/45.ee538b89.js"><link rel="prefetch" href="/docs/assets/js/46.d9a22ea8.js"><link rel="prefetch" href="/docs/assets/js/47.3ca88280.js"><link rel="prefetch" href="/docs/assets/js/48.48ca1add.js"><link rel="prefetch" href="/docs/assets/js/49.535c6786.js"><link rel="prefetch" href="/docs/assets/js/5.925cb319.js"><link rel="prefetch" href="/docs/assets/js/50.5240abbb.js"><link rel="prefetch" href="/docs/assets/js/51.7e570b6c.js"><link rel="prefetch" href="/docs/assets/js/52.61bef97a.js"><link rel="prefetch" href="/docs/assets/js/53.1575ad9d.js"><link rel="prefetch" href="/docs/assets/js/54.6df47567.js"><link rel="prefetch" href="/docs/assets/js/55.2aaedda0.js"><link rel="prefetch" href="/docs/assets/js/56.6f1aa26d.js"><link rel="prefetch" href="/docs/assets/js/57.83f6cdf4.js"><link rel="prefetch" href="/docs/assets/js/58.0db1c1b4.js"><link rel="prefetch" href="/docs/assets/js/59.3478e945.js"><link rel="prefetch" href="/docs/assets/js/6.4e53a11e.js"><link rel="prefetch" href="/docs/assets/js/60.b13789eb.js"><link rel="prefetch" href="/docs/assets/js/61.98cb36ad.js"><link rel="prefetch" href="/docs/assets/js/62.2c9d069b.js"><link rel="prefetch" href="/docs/assets/js/63.d24c0f4e.js"><link rel="prefetch" href="/docs/assets/js/64.97827d26.js"><link rel="prefetch" href="/docs/assets/js/65.3a6961da.js"><link rel="prefetch" href="/docs/assets/js/66.0c560a16.js"><link rel="prefetch" href="/docs/assets/js/67.481f54f7.js"><link rel="prefetch" href="/docs/assets/js/68.34700db3.js"><link rel="prefetch" href="/docs/assets/js/69.774b2e23.js"><link rel="prefetch" href="/docs/assets/js/7.500b55c5.js"><link rel="prefetch" href="/docs/assets/js/70.6dc2367e.js"><link rel="prefetch" href="/docs/assets/js/71.fafec719.js"><link rel="prefetch" href="/docs/assets/js/72.51ab74fc.js"><link rel="prefetch" href="/docs/assets/js/73.31ce2aa1.js"><link rel="prefetch" href="/docs/assets/js/74.bc9bc721.js"><link rel="prefetch" href="/docs/assets/js/75.3b17e82f.js"><link rel="prefetch" href="/docs/assets/js/76.98ab9c2e.js"><link rel="prefetch" href="/docs/assets/js/77.d6c9120d.js"><link rel="prefetch" href="/docs/assets/js/78.fef75a62.js"><link rel="prefetch" href="/docs/assets/js/79.a0aa046e.js"><link rel="prefetch" href="/docs/assets/js/8.57c56ba1.js"><link rel="prefetch" href="/docs/assets/js/80.efb69a33.js"><link rel="prefetch" href="/docs/assets/js/81.a8114221.js"><link rel="prefetch" href="/docs/assets/js/82.84763155.js"><link rel="prefetch" href="/docs/assets/js/9.ceb45162.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.cffabbe3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Maturest</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/author/" class="nav-link">
  关于作者
</a></div><div class="nav-item"><a href="/docs/back/ai/" class="nav-link">
  AIGC
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front end" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Front end" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/front/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/es/" class="nav-link">
  Es
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/uni-app/" class="nav-link">
  Uni-App
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Back end" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Back end" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/back/php/" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/laravel/" class="nav-link">
  Laravel
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/django/" class="nav-link">
  Django
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/mysql/" class="nav-link router-link-active">
  Mysql
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Cache" class="dropdown-title"><span class="title">缓存</span> <span class="arrow down"></span></button> <button type="button" aria-label="Cache" class="mobile-dropdown-title"><span class="title">缓存</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/back/memcached/" class="nav-link">
  Memcached
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/mongodb/" class="nav-link">
  Mongodb
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/elasticsearch/" class="nav-link">
  Elasticsearch
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Operation" class="dropdown-title"><span class="title">运维</span> <span class="arrow down"></span></button> <button type="button" aria-label="Operation" class="mobile-dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/operation/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/composer/" class="nav-link">
  Composer
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Programs" class="dropdown-title"><span class="title">项目经验</span> <span class="arrow down"></span></button> <button type="button" aria-label="Programs" class="mobile-dropdown-title"><span class="title">项目经验</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/programs/h5/" class="nav-link">
  H5项目
</a></li><li class="dropdown-item"><!----> <a href="/docs/programs/mini-program/" class="nav-link">
  小程序项目
</a></li><li class="dropdown-item"><!----> <a href="/docs/programs/web/" class="nav-link">
  PC端项目
</a></li></ul></div></div> <a href="https://github.com/maturest/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/author/" class="nav-link">
  关于作者
</a></div><div class="nav-item"><a href="/docs/back/ai/" class="nav-link">
  AIGC
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front end" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Front end" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/front/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/es/" class="nav-link">
  Es
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/front/uni-app/" class="nav-link">
  Uni-App
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Back end" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Back end" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/back/php/" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/laravel/" class="nav-link">
  Laravel
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/django/" class="nav-link">
  Django
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/mysql/" class="nav-link router-link-active">
  Mysql
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Cache" class="dropdown-title"><span class="title">缓存</span> <span class="arrow down"></span></button> <button type="button" aria-label="Cache" class="mobile-dropdown-title"><span class="title">缓存</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/back/memcached/" class="nav-link">
  Memcached
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/mongodb/" class="nav-link">
  Mongodb
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/elasticsearch/" class="nav-link">
  Elasticsearch
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Operation" class="dropdown-title"><span class="title">运维</span> <span class="arrow down"></span></button> <button type="button" aria-label="Operation" class="mobile-dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/operation/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/docs/back/composer/" class="nav-link">
  Composer
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Programs" class="dropdown-title"><span class="title">项目经验</span> <span class="arrow down"></span></button> <button type="button" aria-label="Programs" class="mobile-dropdown-title"><span class="title">项目经验</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/programs/h5/" class="nav-link">
  H5项目
</a></li><li class="dropdown-item"><!----> <a href="/docs/programs/mini-program/" class="nav-link">
  小程序项目
</a></li><li class="dropdown-item"><!----> <a href="/docs/programs/web/" class="nav-link">
  PC端项目
</a></li></ul></div></div> <a href="https://github.com/maturest/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/docs/back/mysql/" aria-current="page" class="sidebar-link">基本命令</a></li><li><a href="/docs/back/mysql/DDL.html" class="sidebar-link">DDL</a></li><li><a href="/docs/back/mysql/DML.html" class="sidebar-link">DML</a></li><li><a href="/docs/back/mysql/DQL.html" aria-current="page" class="active sidebar-link">DQL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/back/mysql/DQL.html#dql" class="sidebar-link">DQL</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="dql"><a href="#dql" class="header-anchor">#</a> DQL</h2> <div class="language- extra-class"><pre class="language-text"><code># 查询所有学生的信息
select `id`,`name`,`phone`,`gender`,`birthday`,`address`,`college_id` from student;

# 查询学生的学号，姓名和籍贯
select `id` as '学号',`name` as '姓名',`address` as '籍贯' from student;

# 查询所有课程的名称以及学分
select `name` as '课程',`credit` as '学分' from course;

# 查询所有女生的姓名和出生日期
select `name` as '姓名',`birthday` as '出生日期' from student where gender = 0;

# 查询籍贯为四川成都的女学生的姓名和出生日期
select `name` as '姓名',`birthday` as '出生日期' from student where gender = 0 and address = '四川成都';

# 查询籍贯为四川成都或者性别是女的学生
select `name` as '姓名',`birthday` as '出生日期' from student where gender = 0 or address = '四川成都';

# 查询所有80后学生的姓名，性别和出生日期
select `name` as '姓名',`gender` as '性别',`birthday` as '出生日期' from student where birthday between '1980-01-01' and '1989-12-31';

# 查询学分大于2的可成的名称和学分
select `name`,`credit` from course where `credit` &gt; 2;

# 查询学分是奇数的课程名称和学分
select `name`,`credit` from course where `credit` mod 2 != 0;

# 查询选择了1111的课程，考试成绩并且在90分以上的学生学号
select student_id from record where course_id = 1111 and score &gt; 90;

# 查询名字叫杨过的学生的姓名和性别
select `name` as '姓名', case `gender` when 1 then '男' else '女' end as '性别' from student where `name` = '杨过';

select `name` as '姓名', if(gender,'男','女') as '性别' from student where `name` = '杨过';

# 查询姓杨的学生姓名和性别（模糊匹配）
select `name` as '姓名', case `gender` when 1 then '男' else '女' end as '性别' from `student` where `name` like '杨%';

# 查询学号最后一位是3的学生的学号和姓名
select `id` as '学号',`name` as '姓名' from `student` where id like '%3';

# 查询名字中有不或者嫣字的学生的学号和姓名
select `id` as '学号',`name` as '姓名' from `student` where `name` like '%不%' or `name` like '%嫣%';

select `id` as '学号',`name` as '姓名' from `student` where `name` like '%不%' union select `id` as '学号',`name` as '姓名' from `student` where `name` like '%嫣%';

# 查询姓杨或者姓林的名字三个字的学号和姓名
select `id` as '学号',`name` as '姓名' from `student` where `name` like '杨__' or `name` like '林__';

select `id` as '学号',`name` as '姓名' from `student` where `name` regexp '[杨林][\\u4e00-\\u9fa5]{2}';

# 查询没有录入籍贯的学生姓名
select `name` as '姓名' from `student` where trim(`address`) = '' or `address` is null;

# 查询录入了籍贯的学生姓名
select `name` as '姓名' from `student` where trim(`address`) != '' and `address` is not null;

# 查询学生选课的所有日期
select distinct `created_at` from  `record`;

# 查询学生的籍贯
select distinct `address` from student where trim(`address`) != '' and `address` is not null;

# 查询男学生的姓名和生日按年龄从大到小排列
select `name` as '姓名',`birthday` as '生日' from `student` where gender = 1 order by `birthday` asc;

# 查询男学生的姓名和年龄按年龄从大到小排列
select `name` as '姓名', floor(datediff(curdate(),`birthday`) / 365)  as '年龄' from `student` where gender = 1 order by `birthday` asc;

# 查询年龄最大的学生的出生日期
select min(`birthday`) from `student`;

# 查询年龄最小的学生的出生日期
select max(`birthday`) from `student`;

# 查询编号为1111的课程考试成绩的最高分
select max(`score`) from `record` where `course_id` = 1111;

# 查询学号为1001的学生考试成绩的最低分、最高分、平均分、标准差、方差(聚合函数)
select min(`score`) as '最低分', max(`score`) as '最高分',round(avg(`score`),1) as '平均分',stddev(`score`) as '标准差',variance(`score`) as '方差' from `record` where `student_id` = 1001;

# 查询学号为1001的学生考试成绩平均分，如果又null值,null值算0分
select round(sum(`score`) / count(*),1) as '平均分' from record where `student_id` = 1001;

# 查询男女学生的人数
select case gender when 1 then '男' else '女' end as '性别',count(*) as '人数' from `student` group by gender;

# 查询每个学院学生人数
select `college_id` as '学院编号',count(*) as '人数' from `student` group by `college_id` with rollup;

# 查询每个学院的男女学生的人数
select `college_id` as '学院编号',case gender when 1 then '男' else '女' end as '性别',count(*) as '人数' from `student` group by `college_id`,`gender`;

# 查询每个学生的学号和平均成绩
select `student_id` as '学号',round(avg(`score`),1) as '平均分' from `record` group by `student_id`;

# 查询平均成绩大于等于90分的学生的学号和平均成绩
select `student_id` as '学号',round(avg(`score`),1) as 'avg_score' from `record` group by `student_id` having avg_score &gt;= 90;

# 查询1111,2222,3333三门课程平均成绩大于等于90分的学生的学号和平均成绩
select `student_id` as '学号',round(avg(`score`),1) as 'avg_score' from `record` where course_id in (1111,2222,3333) group by `student_id` having avg_score &gt;= 90 order by avg_score asc;

# 查询年龄最大的学生的姓名(子查询)
select `name` as '姓名' from `student` where birthday = (select min(birthday) from `student`);

select `name` as '姓名' from `student` order by birthday asc limit 1;

# 查询选了两门以上课程的学生姓名(子查询和集合运算)
select `name` as '姓名' from `student` where id in (select `student_id` from `record` group by student_id having count(*)  &gt; 2);

# 查询学生的姓名、生日、和所在学院名称
select s.name as '姓名',`birthday` as '生日',c.name as '学院名称' from `student` as s,`college` as c where s.college_id = c.id;

select s.name as '姓名',`birthday` as '生日',c.name as '学院名称' from `student` as s inner join `college` as c on s.college_id = c.id;

select s.name as '姓名',`birthday` as '生日',c.name as '学院名称' from `student` as s left join `college` as c on s.college_id = c.id;


# 查询学生姓名，课程名称，以及成绩(表连接)

select s.name as '姓名', c.name as '课程名称',r.score as '成绩' from `student` as s,`course` as c,`record` as r where s.id = r.student_id and c.id = r.course_id and score is not null; # 隐式的内连接

# 与上面相同，但更容易理解
SELECT s.name AS '姓名', c.name AS '课程名称', r.score AS '成绩'  
FROM `student` AS s  
INNER JOIN `record` AS r ON s.id = r.student_id  
INNER JOIN `course` AS c ON r.course_id = c.id  
WHERE r.score IS NOT NULL;






</code></pre></div><p>介个连接：</p> <ul><li><p>NATURAL JOIN 基于两个表共有的列名自动进行连接，不推荐使用。</p></li> <li><p>INNER JOIN 只返回两个表中匹配的记录。</p></li> <li><p>LEFT JOIN 保证左表的所有记录都出现在结果中，如果右表中没有匹配则显示NULL。</p></li> <li><p>RIGHT JOIN 保证右表的所有记录都出现在结果中，如果左表中没有匹配则显示NULL。</p></li> <li><p>Cross Join（笛卡尔积）是SQL中一种特殊的连接类型，它不需要任何连接条件来匹配两个表中的行。在执行Cross Join时，数据库会将第一个表中的每一行与第二个表中的每一行进行组合，生成的结果集行数等于两个表行数的乘积。</p></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/maturest/docs/edit/master/back/mysql/DQL.md" target="_blank" rel="noopener noreferrer">帮助我改善此页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">7/4/2024, 6:14:17 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/back/mysql/DML.html" class="prev">
        DML
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.000178f7.js" defer></script><script src="/docs/assets/js/2.6b092d03.js" defer></script><script src="/docs/assets/js/40.15f1699d.js" defer></script>
  </body>
</html>
